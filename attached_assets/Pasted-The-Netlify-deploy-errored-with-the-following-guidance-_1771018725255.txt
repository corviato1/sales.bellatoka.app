The Netlify deploy errored, with the following guidance provided:

Diagnosis:
- Netlifyâ€™s secrets scanner halted the build because the value of the `ADMIN_PASSWORD` environment variable was found in the repository, specifically in `package-lock.json` ([line 99](#L99)-[line 103](#L103)). This indicates the secret is committed to the repo, so Netlify stops the build to prevent leaking it.

Solution:
- Remove the secret value from `package-lock.json`. Search the file for the exact `ADMIN_PASSWORD` value, replace it with a placeholder or remove the offending dependency entry, then reinstall dependencies if needed (`rm package-lock.json && npm install`) and commit the cleaned file.
- Rotate the compromised password, then update the new value in Netlifyâ€™s environment variable settings so the old secret is no longer valid.
- After cleaning the repo and rotating the secret, trigger a new build.

The relevant error logs are:

Line 98: [31m[1mâ€‹[22m[39m
Line 99: [91mSecret env var "ADMIN_PASSWORD"'s value detected:[39m
[91m  found value at line 10130 in package-lock.json[39m
Line 100: [91m  found value at line 10132 in package-lock.json[39m
Line 101: [91m  found value at line 15356 in package-lock.json[39m
Line 102: [91mâ€‹[39m
Line 103: [91mTo prevent exposing secrets, the build will fail until these secret values are not found in build output or repo files.[39
Line 104: [91mâ€‹[39m
Line 105: [91mIf these are expected, use SECRETS_SCAN_OMIT_PATHS, SECRETS_SCAN_OMIT_KEYS, or SECRETS_SCAN_ENABLED to prevent detecting.[
Line 106: [91mâ€‹[39m
Line 107: [91mFor more information on secrets scanning, see the Netlify Docs: https://ntl.fyi/configure-secrets-scanning[39m
Line 108: Failed during stage 'building site': Build script returned non-zero exit code: 2
Line 109: [91m[1mâ€‹[22m[39m
Line 110: [91m[1mSecrets scanning detected secrets in files during build.      [22m[39m
Line 111: [91m[1mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[22m[39m
Line 112: â€‹
Line 113:   [31m[1mError message[22m[39m
Line 114:   Secrets scanning found secrets in build.
Line 115: â€‹
Line 116:   [31m[1mResolved config[22m[39m
Line 117:   build:
Line 118:     command: npm run build
Line 119:     commandOrigin: config
Line 120:     environment:
Line 121:       - ADMIN_PASSWORD
Line 122:       - REACT_APP_ADMIN_PASSWORD
Line 123:       - REACT_APP_WORKFLOW_PASSWORD
Line 124:     publish: /opt/build/repo/build
Line 125:     publishOrigin: config
Line 126:   functionsDirectory: /opt/build/repo/netlify/functions
Line 127:   headers:
Line 128:     - for: /*
      values:
        Cache-Control: public, max-age=3600
        Referrer-Policy: no-referrer
        Strict-Tran
Line 129: Build failed due to a user error: Build script returned non-zero exit code: 2
Line 130: Failing build: Failed to build site
Line 131: Finished processing build request in 26.095s